<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Policy Param | JSON Policy</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="JSON Policy - Distributed Rule Engine">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.8968334b.css" as="style"><link rel="preload" href="/assets/js/app.c4123b23.js" as="script"><link rel="preload" href="/assets/js/2.d3ea8322.js" as="script"><link rel="preload" href="/assets/js/12.29061add.js" as="script"><link rel="prefetch" href="/assets/js/10.5ee64c80.js"><link rel="prefetch" href="/assets/js/11.b3a8b447.js"><link rel="prefetch" href="/assets/js/13.607e3aa6.js"><link rel="prefetch" href="/assets/js/14.8f8bcae9.js"><link rel="prefetch" href="/assets/js/15.e4a83481.js"><link rel="prefetch" href="/assets/js/16.bf02c3a1.js"><link rel="prefetch" href="/assets/js/17.5c717817.js"><link rel="prefetch" href="/assets/js/3.7c13d29b.js"><link rel="prefetch" href="/assets/js/4.b41e69dd.js"><link rel="prefetch" href="/assets/js/5.5bc5eaa4.js"><link rel="prefetch" href="/assets/js/6.e416f727.js"><link rel="prefetch" href="/assets/js/7.980d9cb6.js"><link rel="prefetch" href="/assets/js/8.39ee49f0.js"><link rel="prefetch" href="/assets/js/9.aba5de70.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8968334b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.svg" alt="JSON Policy" class="logo"> <span class="site-name can-hide">JSON Policy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/overview/" class="nav-link router-link-active">
  Overview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Libraries" class="dropdown-title"><span class="title">Libraries</span> <span class="arrow down"></span></button> <button type="button" aria-label="Libraries" class="mobile-dropdown-title"><span class="title">Libraries</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/php-library/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/js-library/" class="nav-link">
  JavaScript
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/overview/" class="nav-link router-link-active">
  Overview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Libraries" class="dropdown-title"><span class="title">Libraries</span> <span class="arrow down"></span></button> <button type="button" aria-label="Libraries" class="mobile-dropdown-title"><span class="title">Libraries</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/php-library/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/js-library/" class="nav-link">
  JavaScript
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/overview/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/overview/policy-statement.html" class="sidebar-link">Policy Statement</a></li><li><a href="/overview/policy-param.html" aria-current="page" class="active sidebar-link">Policy Param</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/overview/policy-param.html#key" class="sidebar-link">Key</a></li><li class="sidebar-sub-header"><a href="/overview/policy-param.html#value" class="sidebar-link">Value</a></li><li class="sidebar-sub-header"><a href="/overview/policy-param.html#enforce" class="sidebar-link">Enforce</a></li><li class="sidebar-sub-header"><a href="/overview/policy-param.html#condition" class="sidebar-link">Condition</a></li></ul></li><li><a href="/overview/policy-condition.html" class="sidebar-link">Policy Condition</a></li><li><a href="/overview/policy-marker.html" class="sidebar-link">Policy Marker</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="policy-param"><a href="#policy-param" class="header-anchor">#</a> Policy Param</h1> <p>The policy param is a good way to carry some additional application configurations that can be reused either in the policy itself or fetched in the code. What is great about policy params is that they also can be conditional like statements.</p> <p>For example, you may want to define different API endpoints based on the application environment. So this can be accomplished with a policy like this:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Param&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;API:endpoint&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://staging-myapi.mydomain.io&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Condition&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Equals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;${ENV.type}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;staging&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;API:endpoint&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://myapi.mydomain.io&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Condition&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Equals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;${ENV.type}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now the only thing that your application environment needs to have is the <code>type</code> environment variable. The rest is taken care of and you can fetch the <code>API:endpoint</code> param in your code without any overheads.</p> <blockquote><p><strong>FYI!</strong> To learn more about fetching policy params programmatically, please refer to the respective language library reference page.</p></blockquote> <h2 id="key"><a href="#key" class="header-anchor">#</a> Key</h2> <ul><li>Type: <code>String</code></li> <li><strong>Required</strong></li></ul> <p>The <code>Key</code> attribute has to contain a scalar value, typically string. There is no limit on how long the string can be and it is up to your discretion to name the param in a meaningful way. The only recommendation here is to stay consistent with naming and formatting patterns.</p> <h2 id="value"><a href="#value" class="header-anchor">#</a> Value</h2> <ul><li>Type: <code>Any</code></li> <li><strong>Required</strong></li></ul> <p>The <code>Value</code> attribute may contain any sort of information. It can be a scalar value or an object. JSON policy does not enforce any constraints on what it may contain.</p> <p>In the example below, you'll find params that contain a simple string and complex JSON structure and both are valid.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Param&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-string&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello World!&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-object&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;top-level&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;phrase&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello World!&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="enforce"><a href="#enforce" class="header-anchor">#</a> Enforce</h2> <ul><li>Type: <code>Boolean</code></li> <li><em>Optional</em></li></ul> <p>The <code>Enforce</code> is an optional attribute that enforces certain param over other params with exactly the same <code>Key</code> name. It works exactly the same way as the <code>Enforce</code> attribute for the statements and you can refer to its <a href="/overview/policy-statement.html#enforce">description</a> to learn a bit more.</p> <h2 id="condition"><a href="#condition" class="header-anchor">#</a> Condition</h2> <ul><li>Type: <code>{ Equals: Object, NotEquals: Object, ... }: Object</code></li> <li><em>Optional</em></li></ul> <p>The <code>Condition</code> attribute is the optional attribute and contains a collection of conditions that if meat, classify the param as applicable. This is a good way to determine if the param is applicable within the current executable context.</p> <blockquote><p><strong>Note!</strong> Conditions are discussed in greater details in the &quot;<a href="/overview/policy-condition.html">Policy Condition</a>&quot; section.</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/overview/policy-statement.html" class="prev">
        Policy Statement
      </a></span> <span class="next"><a href="/overview/policy-condition.html">
        Policy Condition
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c4123b23.js" defer></script><script src="/assets/js/2.d3ea8322.js" defer></script><script src="/assets/js/12.29061add.js" defer></script>
  </body>
</html>
